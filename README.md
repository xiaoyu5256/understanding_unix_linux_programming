# understanding_unix_linux_programmingUnix/Linux编程实践教程习题练习### 第一章#### more的实现1.按空格显示一屏,需要获取屏幕的行数,shell中可以直接通过环境变量`$LINES`来获取,在c语言中需要调用系统的API,实现方法：```#include    <sys/ioctl.h>/* * 获取屏幕的行数和列数 */struct winsize get_screen_winsize(){    struct winsize w;    ioctl(0,TIOCGWINSZ,&w);    return w;}```2.显示当前文件位置的百分比```#include	<stdio.h>/* * 获取文件当前位置的百分比 */float cur_percent(FILE *fp){    int cur_position = ftell(fp);    int total;    fseek(fp,0L,SEEK_END);    total = ftell(fp);    fseek(fp,cur_position,SEEK_SET);    return 100.0*cur_position/total;}```